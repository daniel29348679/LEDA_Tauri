import{d as b}from"./pinia-71cafef5.js";import{f as o}from"./index-d07dfee2.js";import{b as l}from"./earthApi-baaacd65.js";import{b as f,i as m}from"./@vue-19632928.js";const r=[{text:"",name:"Dashboard.CLS",path:"/dashboard/cls",enable:!1},{text:"",name:"Dashboard.OD",path:"/dashboard/od",enable:!1},{text:"",name:"Dashboard.AD",path:"/dashboard/ad",enable:!1},{text:"",name:"Dashboard.SEG",path:"/dashboard/seg",enable:!1},{text:"",name:"Dashboard.ODCLS",path:"/dashboard/od-cls",enable:!1},{text:"",name:"Dashboard.EFS",path:"/dashboard/efs",enable:!1},{text:"",name:"Dashboard.EFS2",path:"/dashboard/efs2",enable:!1},{text:"",name:"Dashboard.AOI_AD",path:"/dashboard/aoi-ad",enable:!1},{text:"",name:"Dashboard.AOI_OD",path:"/dashboard/aoi-od",enable:!1},{text:"",name:"Dashboard.AOI_SEG",path:"/dashboard/aoi-seg",enable:!1},{text:"",name:"Dashboard.AOI_ODCLS",path:"/dashboard/aoi-od-cls",enable:!1},{text:"",name:"Dashboard.Defect_CLS",path:"/dashboard/defect-cls",enable:!1}],S=b("dashboard",()=>{const e=f(r),n=m(()=>e.value.filter(a=>a.enable));return{items:e,enableItems:n,save:async()=>{try{await fetch("/api/dashboard/menu",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value.map(a=>({name:a.name,enable:a.enable,text:a.text})))})}catch(a){o(`save dashboard menu failed: ${a}`)}},load:async()=>{try{const t=await(await l.api.loadMenuApiDashboardMenuGet()).data;t.length>0&&(e.value=r.map(s=>{const d=t.findIndex(h=>h.name===s.name);return~d?{...t[d],path:s.path}:s}))}catch(a){if(a===401)return;o(`load dashboard menu failed: ${a}`)}}}});export{S as u};
