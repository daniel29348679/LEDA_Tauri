import{b as x,d as B,f as _}from"./base-23d00206.js";import{i as $,e as j}from"./el-button-ded9ecc1.js";import{U as E}from"./event-9519ab40.js";import{j as Z,g as q,a as G}from"./index-b8931eed.js";import{a as H}from"./el-overlay-81162264.js";import{a as S}from"./index-711061c4.js";import{a as J}from"./lodash-es-cc4652a2.js";import{u as D,i as K}from"./@vueuse-0d360189.js";import{f as Q,b as r,i as h,d as T,n as W,h as X}from"./@vue-19632928.js";const Y=x({center:Boolean,alignCenter:Boolean,closeIcon:{type:$},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),re={close:()=>!0},ce=x({...Y,appendToBody:Boolean,appendTo:{type:B([String,Object]),default:"body"},beforeClose:{type:B(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),de={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[E]:e=>Z(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fe=(e,l)=>{var v;const n=Q().emit,{nextZIndex:p}=q();let C="";const I=S(),P=S(),t=r(!1),c=r(!1),i=r(!1),d=r((v=e.zIndex)!=null?v:p());let s,u;const F=j("namespace",_),O=h(()=>{const o={},a=`--${F.value}-dialog`;return e.fullscreen||(e.top&&(o[`${a}-margin-top`]=e.top),e.width&&(o[`${a}-width`]=G(e.width))),o}),A=h(()=>e.alignCenter?{display:"flex"}:{});function k(){n("opened")}function w(){n("closed"),n(E,!1),e.destroyOnClose&&(i.value=!1)}function L(){n("close")}function g(){u==null||u(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=D(()=>b(),e.openDelay):b()}function f(){s==null||s(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=D(()=>y(),e.closeDelay):y()}function m(){function o(a){a||(c.value=!0,t.value=!1)}e.beforeClose?e.beforeClose(o):f()}function N(){e.closeOnClickModal&&m()}function b(){K&&(t.value=!0)}function y(){t.value=!1}function M(){n("openAutoFocus")}function z(){n("closeAutoFocus")}function U(o){var a;((a=o.detail)==null?void 0:a.focusReason)==="pointer"&&o.preventDefault()}e.lockScroll&&H(t);function V(){e.closeOnPressEscape&&m()}return T(()=>e.modelValue,o=>{o?(c.value=!1,g(),i.value=!0,d.value=J(e.zIndex)?p():d.value++,W(()=>{n("open"),l.value&&(l.value.parentElement.scrollTop=0,l.value.parentElement.scrollLeft=0,l.value.scrollTop=0)})):t.value&&f()}),T(()=>e.fullscreen,o=>{l.value&&(o?(C=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=C)}),X(()=>{e.modelValue&&(t.value=!0,i.value=!0,g())}),{afterEnter:k,afterLeave:w,beforeLeave:L,handleClose:m,onModalClick:N,close:f,doClose:y,onOpenAutoFocus:M,onCloseAutoFocus:z,onCloseRequested:V,onFocusoutPrevented:U,titleId:I,bodyId:P,closed:c,style:O,overlayDialogStyle:A,rendered:i,visible:t,zIndex:d}};export{de as a,Y as b,re as c,ce as d,fe as u};
