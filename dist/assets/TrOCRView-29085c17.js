import"./base-23d00206.js";import{E as h,a as V}from"./el-steps-c8cdef54.js";import{E}from"./el-divider-67eeba91.js";import{c as $}from"./el-main-e0dc383b.js";/* empty css               */import{E as R,a as U}from"./el-select-99a9cb58.js";import"./el-scrollbar-e3b486eb.js";/* empty css                */import{a as O,E as F}from"./el-form-item-62aac1b2.js";import{E as N}from"./el-image-viewer-1a9f012d.js";import{E as B}from"./el-alert-65b82b76.js";import{d as L,o as T}from"./@element-plus-a8abf029.js";import{u as z,i as _,f as A}from"./index-d07dfee2.js";import{_ as D}from"./UploadFile.vue_vue_type_script_setup_true_lang-d804558e.js";import{u as G}from"./uploadFile-6ce60004.js";import{R as M}from"./ResultImgWithStash-c075e0f0.js";import{y as P,h as W,b as n,c as r,a as s,bf as y,ag as t,u as e,bI as p,S as f,o as m,aP as q,b0 as x,a8 as S}from"./@vue-19632928.js";import{_ as H}from"./json-editor-vue3-5344cb8d.js";import"./lodash-es-cc4652a2.js";import"./event-9519ab40.js";import"./index-b8931eed.js";import"./@vueuse-0d360189.js";import"./vnode-18f2a975.js";import"./el-button-ded9ecc1.js";import"./index-711061c4.js";import"./@ctrl-f8748455.js";import"./index-32075738.js";import"./error-78e43d3e.js";import"./earthApi-baaacd65.js";import"./axios-439bb627.js";import"./index-6127babd.js";import"./async-validator-dee29e8b.js";import"./typescript-defaf979.js";import"./quasar-ff3737c6.js";import"./pinia-71cafef5.js";import"./vue-konva-50f8b9a5.js";import"./konva-364a8bb7.js";import"./@logicflow-db5a80c3.js";import"./vue-router-841924de.js";import"./vue-i18n-76143ed6.js";import"./@intlify-0ef9a929.js";import"./tiff.js-f0b72392.js";import"./jszip-0fc1db0a.js";import"./@quasar-a9c09e53.js";import"./el-upload-5677c5b6.js";import"./el-progress-ed4e49af.js";import"./el-dialog-f482d18c.js";import"./el-overlay-81162264.js";import"./use-dialog-b8544ca4.js";import"./refs-e3a131a0.js";import"./el-checkbox-d46297b7.js";import"./StashSelect-5af938b3.js";import"./el-input-51d05b2a.js";import"./el-tooltip-4ed993c7.js";import"./stashSpace-391fdb88.js";import"./validator-7d68535e.js";import"./el-card-a6aa41d5.js";import"./jsoneditor-5f1e2c9e.js";const j={class:"step-page"},J={class:"step-nav"},K={key:0},Q={key:1},X={class:"inline-block-wrapper"},Y={class:"image-wrap"},Z={class:"file-name"},ee=P({__name:"TrOCRView",setup(te){const w=z();W(()=>{console.log("ImgConverter")});const o=n(1),k=G(),u=n([]),g=n([]),b=n([]),v=n({lang:"chi_tra"}),C=[{value:"eng",label:_.global.t("ENG")},{value:"chi_tra",label:_.global.t("CHI")}],I=()=>{const l=k.uploadResult;if(l){if(l.code!==0){A(`API Error: ${l.code}`);return}u.value=l.result.all_names,g.value=l.result.all_result_text,b.value=l.result.all_image_name,o.value++}};return(l,i)=>(m(),r(f,null,[s("h4",null,y(l.$t("OCR")),1),t(e(E)),s("div",j,[s("div",J,[t(e(V),{active:o.value,"finish-status":"success",class:"w3-margin-bottom",direction:e(w).lt.md?"horizontal":"vertical"},{default:p(()=>[t(e(h),{title:l.$t("Upload"),icon:e(L),onClick:i[0]||(i[0]=c=>o.value=1),class:"pointer"},null,8,["title","icon"]),t(e(h),{title:l.$t("Generate"),icon:e(T),onClick:i[1]||(i[1]=c=>o.value=2),class:"pointer"},null,8,["title","icon"])]),_:1},8,["active","direction"])]),t(e($),null,{default:p(()=>{var c;return[o.value===1?(m(),r("div",K,[t(e(O),{"label-width":e(_).global.locale.value==="en"?"280px":"220px","label-position":"left",style:q({maxWidth:e(_).global.locale.value==="en"?"450px":"380px"})},{default:p(()=>[t(e(F),{label:l.$t("Label.UseLang")},{default:p(()=>[t(e(R),{modelValue:v.value.lang,"onUpdate:modelValue":i[2]||(i[2]=a=>v.value.lang=a),placeholder:"Select",class:"m-2"},{default:p(()=>[(m(),r(f,null,x(C,a=>t(e(U),{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["label-width","style"]),t(D,{api:"/api/infer_tesocr",click:I,type:"image",tip:l.$t("UploadImg"),param:{...v.value},"exist-stash-space":""},null,8,["tip","param"])])):S("",!0),o.value===2&&((c=u.value)!=null&&c.length)?(m(),r("div",Q,[t(M,null,{default:p(()=>[s("div",X,[(m(!0),r(f,null,x(u.value,(a,d)=>(m(),r("div",{key:d,class:"inline-block"},[t(e(B),{class:"scroll q-pa-sm",title:g.value[d],type:"success",closable:!1,style:{height:"200px","overflow-y":"auto"}},null,8,["title"]),s("div",Y,[t(e(N),{style:{height:"200px",margin:"5px"},src:a,"preview-src-list":u.value,"initial-index":d,fit:"contain"},null,8,["src","preview-src-list","initial-index"]),s("div",Z,y(b.value[d]),1)]),t(e(E))]))),128))])]),_:1})])):S("",!0)]}),_:1})])],64))}});const rt=H(ee,[["__scopeId","data-v-019fe219"]]);export{rt as default};
