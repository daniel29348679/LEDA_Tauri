import{_ as s,i as r}from"./index-d07dfee2.js";import"./base-23d00206.js";import{a as l}from"./StashSelect-5af938b3.js";import"./el-button-ded9ecc1.js";import"./el-input-51d05b2a.js";import"./el-overlay-81162264.js";import{d as c}from"./pinia-71cafef5.js";import{b as d,y as u,J as _,o as g,c as f}from"./@vue-19632928.js";import"./quasar-ff3737c6.js";import"./vue-konva-50f8b9a5.js";import"./konva-364a8bb7.js";import"./@logicflow-db5a80c3.js";import"./vue-router-841924de.js";import"./vue-i18n-76143ed6.js";import"./@intlify-0ef9a929.js";import"./axios-439bb627.js";import"./tiff.js-f0b72392.js";import"./jszip-0fc1db0a.js";import"./@quasar-a9c09e53.js";import"./lodash-es-cc4652a2.js";/* empty css               */import"./el-select-99a9cb58.js";import"./el-scrollbar-e3b486eb.js";import"./@vueuse-0d360189.js";import"./error-78e43d3e.js";import"./index-6127babd.js";import"./index-b8931eed.js";import"./earthApi-baaacd65.js";import"./index-711061c4.js";import"./index-32075738.js";import"./event-9519ab40.js";import"./el-tooltip-4ed993c7.js";import"./@element-plus-a8abf029.js";import"./stashSpace-391fdb88.js";import"./validator-7d68535e.js";import"./json-editor-vue3-5344cb8d.js";import"./jsoneditor-5f1e2c9e.js";import"./@ctrl-f8748455.js";import"./typescript-defaf979.js";import"./vnode-18f2a975.js";const w=c("pwa",()=>({SW:d()})),S={class:"w3-hide"},po=u({__name:"ReloadPrompt",setup(p){const a=w();let e;const m=async()=>{try{await l.confirm(r.global.t("Hint.NewPageAvailable"),r.global.t("Label.Notify"),{confirmButtonText:r.global.t("Button.Now"),cancelButtonText:r.global.t("Button.Later"),type:"warning",draggable:!0}),await n()}catch(t){console.log("error => ",t)}},n=async()=>e?await e(!0):void 0;return _(async()=>{console.log("設置ReloadPrompt的Vue");const{registerSW:t}=await s(()=>import("./virtual_pwa-register-6e1ef5ad.js"),["assets/virtual_pwa-register-6e1ef5ad.js","assets/index-d07dfee2.js","assets/@vue-19632928.js","assets/quasar-ff3737c6.js","assets/quasar-7e355eb4.css","assets/pinia-71cafef5.js","assets/vue-konva-50f8b9a5.js","assets/konva-364a8bb7.js","assets/@logicflow-db5a80c3.js","assets/@logicflow-8a2c5ed0.css","assets/vue-router-841924de.js","assets/vue-i18n-76143ed6.js","assets/@intlify-0ef9a929.js","assets/axios-439bb627.js","assets/tiff.js-f0b72392.js","assets/jszip-0fc1db0a.js","assets/@quasar-a9c09e53.js","assets/@quasar-a219b8d1.css","assets/index-24d9d9cb.css"]);e=t({immediate:!0,onRegisteredSW:(i,o)=>{console.log("updateSW URL => ",i),console.log("updateSW on Registered =>",o),a.SW=o,o&&(console.log("確認更新"),o.update(),setInterval(()=>{console.log("確認更新"),o.update()},15e3))},onNeedRefresh:m})}),(t,i)=>(g(),f("div",S))}});export{po as default};
