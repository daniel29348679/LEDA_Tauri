import{d as p}from"./pinia-71cafef5.js";import{w as b,i as v,e as g}from"./index-d07dfee2.js";import{b as c}from"./@vue-19632928.js";const j=p("uploadFile",()=>{const s=c([]),n=c();return{upload:async(u,a,e=void 0,d="image",f,i)=>{if(n.value=void 0,console.log("files ==>",a),console.log("param ==>",e),a.length===0&&!(e!=null&&e.folder_path))return b(v.global.t("NoFile")),!1;const t=new FormData;for(const o of a){const r=await o.raw.arrayBuffer();t.append(d,new Blob([r]),o.name)}if(f&&i)for(const o of f){const r=await o.raw.arrayBuffer();t.append(i,new Blob([r]),o.name)}if(e)for(const o of Object.keys(e)){if(typeof e[o]=="object"){t.append(o,JSON.stringify(e[o]));continue}t.append(o,`${e[o]}`)}const l=await g("form",u,t);if(l==null)return!1;const w=await l.data;return n.value=w,!0},uploadResult:n,fileList:s,clear:()=>{s.value=[],n.value=void 0}}});export{j as u};
