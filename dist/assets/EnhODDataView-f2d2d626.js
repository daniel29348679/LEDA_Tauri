import"./base-23d00206.js";import{E as O}from"./el-upload-5677c5b6.js";import"./el-progress-ed4e49af.js";import{E as D,a as H}from"./el-steps-c8cdef54.js";import{E as B}from"./el-divider-67eeba91.js";import{a as N}from"./el-button-ded9ecc1.js";import{c as T}from"./el-main-e0dc383b.js";/* empty css                */import{a as X,E as g}from"./el-form-item-62aac1b2.js";import{E}from"./el-slider-07e60acd.js";import"./el-input-51d05b2a.js";import{E as A}from"./el-input-number-815f9c07.js";import"./el-tooltip-4ed993c7.js";import"./el-scrollbar-e3b486eb.js";import{E as $}from"./el-checkbox-d46297b7.js";import{d as G,g as W,o as j,h as q}from"./@element-plus-a8abf029.js";import{u as J,o as K,f as w}from"./index-d07dfee2.js";import{u as Q}from"./uploadFile-6ce60004.js";import{u as Y}from"./stashSpace-391fdb88.js";import{S as Z}from"./StashSelect-5af938b3.js";import{R as x}from"./ResultImgWithStash-c075e0f0.js";import{E as ll}from"./index-b8931eed.js";import{y as el,h as tl,b as u,c as r,a as s,bf as m,ag as a,u as e,bI as i,S as al,o as n,af as k,a7 as ol,a8 as d}from"./@vue-19632928.js";import"./lodash-es-cc4652a2.js";import"./error-78e43d3e.js";import"./typescript-defaf979.js";import"./index-711061c4.js";import"./@vueuse-0d360189.js";import"./event-9519ab40.js";import"./vnode-18f2a975.js";import"./@ctrl-f8748455.js";import"./async-validator-dee29e8b.js";import"./index-6127babd.js";import"./earthApi-baaacd65.js";import"./axios-439bb627.js";import"./index-32075738.js";import"./quasar-ff3737c6.js";import"./pinia-71cafef5.js";import"./vue-konva-50f8b9a5.js";import"./konva-364a8bb7.js";import"./@logicflow-db5a80c3.js";import"./vue-router-841924de.js";import"./vue-i18n-76143ed6.js";import"./@intlify-0ef9a929.js";import"./tiff.js-f0b72392.js";import"./jszip-0fc1db0a.js";import"./@quasar-a9c09e53.js";/* empty css               */import"./el-select-99a9cb58.js";import"./el-overlay-81162264.js";import"./validator-7d68535e.js";import"./json-editor-vue3-5344cb8d.js";import"./jsoneditor-5f1e2c9e.js";import"./el-image-viewer-1a9f012d.js";import"./el-alert-65b82b76.js";import"./el-card-a6aa41d5.js";const il={class:"step-page"},ul={class:"step-nav"},sl={key:0},nl={key:0},rl={class:"el-upload__tip"},ml={class:"el-upload__text"},dl={class:"el-upload__tip"},pl={key:1},vl={key:0},fl={key:1},bl={key:2},Vl={key:3},_l={key:4},Sl={key:2},Ee=el({__name:"EnhODDataView",setup(gl){const L=J(),I=Y();tl(()=>{console.log("EnhODData")});const p=u(1),P=Q(),v=u([]),y=u(1),U=u(.5),R=u(.5),h=u(.5),F=u(.5),C=u(.5),f=u(!1),b=u(!1),V=u(!1),_=u(!1),S=u(!1),c=u(!1),z=()=>{p.value++},M=async()=>{const o=K();try{const l={multiple:y.value,HorizontalFlip:f.value,HorizontalFlip_p:U.value,VerticalFlip:b.value,VerticalFlip_p:R.value,ShiftScaleRotate:V.value,ShiftScaleRotate_p:h.value,RandomBrightnessContrast:_.value,RandomBrightnessContrast_p:F.value,RandomRotate90:S.value,RandomRotate90_p:C.value};c.value&&(l.folder_path=I.currentFolderPath),await P.upload("/api/enhance_OD_data",v.value,l);const t=P.uploadResult;if(!t)return;if(t.code!==0){w(`API Error: ${t.code}`);return}z()}catch(l){w(`${l}`)}finally{o.close()}};return(o,l)=>(n(),r(al,null,[s("h4",null,m(o.$t("ODDataEnh")),1),a(e(B)),s("div",il,[s("div",ul,[a(e(H),{active:p.value,"finish-status":"success",class:"w3-margin-bottom",direction:e(L).lt.md?"horizontal":"vertical"},{default:i(()=>[a(e(D),{title:o.$t("Upload"),icon:e(G),onClick:l[0]||(l[0]=t=>(p.value=1,v.value=[],f.value=!1,b.value=!1,V.value=!1,_.value=!1,S.value=!1)),class:"pointer"},null,8,["title","icon"]),a(e(D),{title:o.$t("Setting"),icon:e(W),onClick:l[1]||(l[1]=t=>(p.value=v.value.length>0?2:1,f.value=!1,b.value=!1,V.value=!1,_.value=!1,S.value=!1)),class:"pointer"},null,8,["title","icon"]),a(e(D),{title:o.$t("Generate"),icon:e(j)},null,8,["title","icon"])]),_:1},8,["active","direction"])]),a(e(T),null,{default:i(()=>[p.value===1?(n(),r("div",sl,[a(e(N),{class:"ml-3",type:"success",onClick:l[2]||(l[2]=t=>z())},{default:i(()=>[k(m(o.$t("Upload")),1)]),_:1}),a(e(B)),a(e($),{modelValue:c.value,"onUpdate:modelValue":l[3]||(l[3]=t=>c.value=t)},{default:i(()=>[k(m(o.$t("Label.UsingTemporaryStorageSpace")),1)]),_:1},8,["modelValue"]),c.value?(n(),r("div",nl,[a(Z,{"is-on-page":"","is-upload":""}),s("span",rl,m(o.$t("UploadImgXML")),1)])):(n(),ol(e(O),{key:1,"file-list":v.value,"onUpdate:fileList":l[4]||(l[4]=t=>v.value=t),class:"upload-demo",action:"/api/enhance_OD_data","auto-upload":!1,accept:"image/*,.xml",multiple:"",drag:""},{tip:i(()=>[s("div",dl,m(o.$t("UploadImgXML")),1)]),default:i(()=>[a(e(ll),{class:"el-icon--upload"},{default:i(()=>[a(e(q))]),_:1}),s("div",ml,[k(m(o.$t("DropFile"))+" ",1),s("em",null,m(o.$t("ClickToUpload")),1)])]),_:1},8,["file-list"]))])):d("",!0),p.value===2&&(v.value.length!==0||c.value&&e(I).currentFolderPath)?(n(),r("div",pl,[a(e(N),{type:"success",onClick:l[5]||(l[5]=t=>M())},{default:i(()=>[k(m(o.$t("Setting")),1)]),_:1}),a(e(B)),a(e(X),{"label-width":"170px","label-position":"left"},{default:i(()=>[a(e(g),{label:o.$t("Multiple")},{default:i(()=>[a(e(A),{modelValue:y.value,"onUpdate:modelValue":l[6]||(l[6]=t=>y.value=t),step:1,min:1},null,8,["modelValue"])]),_:1},8,["label"]),a(e($),{modelValue:f.value,"onUpdate:modelValue":l[7]||(l[7]=t=>f.value=t),label:o.$t("RandomHorizontalFlip")},null,8,["modelValue","label"]),f.value===!0?(n(),r("div",vl,[a(e(g),{label:o.$t("Probability")},{default:i(()=>[a(e(E),{modelValue:U.value,"onUpdate:modelValue":l[8]||(l[8]=t=>U.value=t),min:.1,max:1,step:.01},null,8,["modelValue"])]),_:1},8,["label"])])):d("",!0),l[17]||(l[17]=s("br",null,null,-1)),a(e($),{modelValue:b.value,"onUpdate:modelValue":l[9]||(l[9]=t=>b.value=t),label:o.$t("RandomVerticalFlip")},null,8,["modelValue","label"]),b.value===!0?(n(),r("div",fl,[a(e(g),{label:o.$t("Probability")},{default:i(()=>[a(e(E),{modelValue:R.value,"onUpdate:modelValue":l[10]||(l[10]=t=>R.value=t),min:.1,max:1,step:.01},null,8,["modelValue"])]),_:1},8,["label"])])):d("",!0),l[18]||(l[18]=s("br",null,null,-1)),a(e($),{modelValue:V.value,"onUpdate:modelValue":l[11]||(l[11]=t=>V.value=t),label:o.$t("RandomShiftScaleRotate")},null,8,["modelValue","label"]),V.value===!0?(n(),r("div",bl,[a(e(g),{label:o.$t("Probability")},{default:i(()=>[a(e(E),{modelValue:h.value,"onUpdate:modelValue":l[12]||(l[12]=t=>h.value=t),min:.1,max:1,step:.01},null,8,["modelValue"])]),_:1},8,["label"])])):d("",!0),l[19]||(l[19]=s("br",null,null,-1)),a(e($),{modelValue:_.value,"onUpdate:modelValue":l[13]||(l[13]=t=>_.value=t),label:o.$t("RandomBrightnessContrast")},null,8,["modelValue","label"]),_.value===!0?(n(),r("div",Vl,[a(e(g),{label:o.$t("Probability")},{default:i(()=>[a(e(E),{modelValue:F.value,"onUpdate:modelValue":l[14]||(l[14]=t=>F.value=t),min:.1,max:1,step:.01},null,8,["modelValue"])]),_:1},8,["label"])])):d("",!0),l[20]||(l[20]=s("br",null,null,-1)),a(e($),{modelValue:S.value,"onUpdate:modelValue":l[15]||(l[15]=t=>S.value=t),label:o.$t("RandomRotate90")},null,8,["modelValue","label"]),S.value===!0?(n(),r("div",_l,[a(e(g),{label:o.$t("Probability")},{default:i(()=>[a(e(E),{modelValue:C.value,"onUpdate:modelValue":l[16]||(l[16]=t=>C.value=t),min:.1,max:1,step:.01},null,8,["modelValue"])]),_:1},8,["label"])])):d("",!0)]),_:1})])):d("",!0),p.value===3?(n(),r("div",Sl,[a(x)])):d("",!0)]),_:1})])],64))}});export{Ee as default};
